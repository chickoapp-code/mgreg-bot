# Инструкция по локальному запуску бота

## Быстрый запуск (рекомендуется)

### Способ 1: Использование Python скрипта

1. Откройте PowerShell или CMD в директории проекта:
   ```
   cd "B:\БОТ ТГ ПЛАНФИКС\mgreg-bot"
   ```

2. Запустите скрипт установки и запуска:
   ```
   python install_and_run.py
   ```

   Скрипт автоматически:
   - Создаст виртуальное окружение (если его нет)
   - Установит все зависимости
   - Создаст .env файл из env.example (если его нет)
   - Запустит бота

### Способ 2: Ручной запуск

1. Откройте PowerShell или CMD в директории проекта:
   ```
   cd "B:\БОТ ТГ ПЛАНФИКС\mgreg-bot"
   ```

2. Создайте виртуальное окружение (если его нет):
   ```
   python -m venv .venv
   ```

3. Активируйте виртуальное окружение:
   ```
   .venv\Scripts\activate
   ```

4. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

5. Создайте .env файл из шаблона (если его нет):
   ```
   copy env.example .env
   ```

6. Отредактируйте .env файл и заполните все переменные:
   - `BOT_TOKEN` - токен вашего Telegram бота
   - `PLANFIX_TOKEN` - токен Planfix API
   - `PLANFIX_BASE_URL` - базовый URL Planfix
   - `ADMIN_NAME` - ваш Telegram username
   - `ADMIN_CHAT_ID` - ID чата для уведомлений (опционально)
   - `PLANFIX_TEMPLATE_ID` - ID шаблона контакта (по умолчанию 413)

7. Запустите бота:
   ```
   python -m bot.main
   ```

## Запуск тестов

1. Активируйте виртуальное окружение:
   ```
   .venv\Scripts\activate
   ```

2. Запустите тесты:
   ```
   pytest
   ```

   Или с подробным выводом:
   ```
   pytest -v
   ```

## Примечания

- Убедитесь, что Python 3.10+ установлен на вашем компьютере
- Файл .env должен содержать реальные токены, иначе бот не запустится
- Для остановки бота нажмите `Ctrl+C`

